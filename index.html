<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Diagnóstico Financeiro Empresarial</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>

:root{
--primary:#4f46e5;
--secondary:#0f172a;
--bg:#f5f7fb;
--card:#ffffff;
--text:#0f172a;
--muted:#64748b;
--radius:14px;
}

*{box-sizing:border-box}

body{
margin:0;
padding:30px;
font-family:Inter,system-ui,Segoe UI,Arial,sans-serif;
background:linear-gradient(180deg,#f5f7fb,#eef2ff);
color:var(--text);
}

.app{
max-width:1100px;
margin:auto;
}

.topbar{
background:var(--card);
padding:22px 30px;
border-radius:var(--radius);
box-shadow:0 8px 24px rgba(0,0,0,.06);
display:flex;
align-items:center;
gap:20px;
}

.topbar img{
height:120px;
}

.topbar-title h1{
margin:0;
font-size:22px;
}

.topbar-title p{
margin:4px 0 0;
font-size:13px;
color:var(--muted);
}

.grid{
display:grid;
grid-template-columns:380px 1fr;
gap:25px;
margin-top:25px;
}

.panel{
background:var(--card);
border-radius:var(--radius);
padding:25px;
box-shadow:0 8px 24px rgba(0,0,0,.05);
}

.panel h3{
margin-top:0;
font-size:16px;
color:var(--primary);
}

.field{
margin-bottom:14px;
}

.field label{
font-size:13px;
color:var(--muted);
display:block;
margin-bottom:4px;
}

.field input{
width:100%;
padding:11px 12px;
border-radius:10px;
border:1px solid #dbeafe;
font-size:14px;
}

.instructions p{
margin:4px 0;
font-size:13px;
}

.slider-group{
margin:16px 0;
}

.slider-group label{
display:flex;
justify-content:space-between;
font-size:13px;
font-weight:600;
}

input[type=range]{
width:100%;
margin-top:6px;
}

.actions{
display:flex;
gap:12px;
margin-top:20px;
}

button{
flex:1;
padding:13px;
border:none;
border-radius:10px;
background:var(--primary);
color:#fff;
font-size:14px;
cursor:pointer;
}

button.secondary{
background:var(--secondary);
}

button:hover{opacity:.9}

.chart-panel{
background:var(--card);
border-radius:var(--radius);
padding:30px;
box-shadow:0 8px 24px rgba(0,0,0,.05);
}

#classification{
margin-top:30px;
padding:22px;
border-radius:14px;
}

#classification h2{
margin:0;
font-size:26px;
}

#classification p{
margin-top:6px;
font-size:14px;
}

@media print{
button,.actions{display:none}
body{background:#fff}
.panel,.chart-panel,.topbar{box-shadow:none}
.grid{grid-template-columns:1fr}
}

</style>
</head>

<body>

<div class="app">

<!-- TOPO -->
<div class="topbar">
<img src="EM.png">
<div class="topbar-title">
<h1>Diagnóstico Financeiro Empresarial</h1>
<p>Ferramenta de avaliação de maturidade financeira</p>
</div>
</div>

<!-- CONTEÚDO -->
<div class="grid">

<!-- LADO ESQUERDO -->
<div class="panel">

<h3>Dados do Cliente</h3>

<div class="field">
<label>Nome do Cliente</label>
<input id="clientName">
</div>

<div class="field">
<label>Data da Avaliação</label>
<input type="date" id="clientDate">
</div>

<hr style="margin:25px 0">

<h3>Como Pontuar</h3>

<div class="instructions">
<p>0 a 2 → Não existe controle</p>
<p>3 a 4 → Controle muito básico</p>
<p>5 a 6 → Controle parcial</p>
<p>7 a 8 → Bom nível de controle</p>
<p>9 a 10 → Excelente nível de controle</p>
</div>

<hr style="margin:25px 0">

<h3>Critérios Avaliados</h3>

<div id="sliders"></div>

<div class="actions">
<button onclick="updateChart()">Gerar Diagnóstico</button>
<button class="secondary" onclick="printReport()">Salvar PDF</button>
</div>

</div>

<!-- LADO DIREITO -->
<div class="chart-panel">

<canvas id="radarChart"></canvas>

<div id="classification"></div>

</div>

</div>

</div>

<script>

const pillars=[
"Receitas",
"Clareza Informações",
"Custos Fixos/Variáveis",
"Projeção Receitas",
"Reserva Emergência",
"Planejamento Financeiro",
"Reserva Oportunidades",
"Fluxo de Caixa"
];

const slidersDiv=document.getElementById("sliders");

pillars.forEach((p,i)=>{
slidersDiv.innerHTML+=`
<div class="slider-group">
<label>${p}<span id="val${i}">5</span></label>
<input type="range" min="0" max="10" value="5"
id="s${i}"
oninput="document.getElementById('val${i}').innerText=this.value">
</div>`;
});

const chart=new Chart(document.getElementById("radarChart"),{
type:"radar",
data:{
labels:pillars,
datasets:[{
label:"Maturidade",
data:Array(8).fill(5),
fill:true,
backgroundColor:"rgba(79,70,229,.25)",
borderColor:"#4f46e5",
pointBackgroundColor:"#4f46e5"
}]
},
options:{
scales:{
r:{min:0,max:10,ticks:{stepSize:2}}
}
}
});

function updateChart(){
const values=pillars.map((_,i)=>Number(document.getElementById(`s${i}`).value));
chart.data.datasets[0].data=values;
chart.update();
classify(values);
}

function classify(values){

const avg=values.reduce((a,b)=>a+b,0)/values.length;

let result="Crítico";
let desc="A empresa apresenta alto risco financeiro e ausência de controles essenciais.";
let color="#dc2626";

if(avg>=5){
result="Regular";
desc="Há algum controle financeiro, porém ainda inconsistente.";
color="#f59e0b";
}
if(avg>=7){
result="Bom";
desc="Boa organização financeira e controles estruturados.";
color="#2563eb";
}
if(avg>=9){
result="Excelente";
desc="Alta maturidade financeira e forte capacidade de crescimento.";
color="#16a34a";
}

document.getElementById("classification").innerHTML=`
<div style="background:${color}15;border-left:6px solid ${color};padding:20px;border-radius:12px">
<h2 style="color:${color}">${result}</h2>
<p>${desc}</p>
</div>
`;

}

function printReport(){
window.print();
}

</script>

</body>
</html>
